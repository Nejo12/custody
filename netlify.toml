[build]
  command = "npm run build"

# Netlify Next.js Runtime - automatically handles Next.js deployment
[[plugins]]
  package = "@netlify/plugin-nextjs"

# Scheduled Functions for Court Reminders Cron
# Runs every hour to send pending court reminders
[[scheduled_functions]]
  schedule = "0 * * * *"  # Every hour at minute 0
  path = "/api/reminders/send"

[[redirects]]
  from = "https://www.custodyclarity.com/*"
  to = "https://custodyclarity.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "https://custodyclarity.org/*"
  to = "https://custodyclarity.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "https://www.custodyclarity.org/*"
  to = "https://custodyclarity.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "https://custodyclarity.netlify.app/*"
  to = "https://custodyclarity.com/:splat"
  status = 301
  force = true

